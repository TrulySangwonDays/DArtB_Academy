# 5장. 가설검정

### 가설검정
분석자가 세운 가설을 검증하는 방법. p값을 사용하여 가설을 지지하는지 여부를 판단

- 확증적 자료분석 → 가설검증형 데이터 분석
- 탐색적 자료분석 → 데이터 특징을 파악하고 가설 후보를 찾는 목적

<br>

- 실험군 : 어떠한 조치를 취한 집단(treatment group)
- 대조군 : 실험군과 비교대조를 위해 마련한 집단(control group)

<br>

- 귀무가설 : 밝히고자 하는 가설의 부정 명제(null hypothesis) ex. 신약에 효과가 없다.
- 대립가설 : 밝히고 싶은 가설(alternative hypothesis) ex. 신약에 효과가 있다.
- 밝히고자 하는 명제가 잘못되었다고 가정한 뒤 모순을 발견하는 “귀류법(배리법)” 논리.

따라서, 대립가설을 부정하여 귀무가설을 지지하는 것은 불가능.

### p-value
- 귀무가설이 옳다고 가정했을 때 관찰한 값 이상으로 극단적인 값이 나올 확률
(확률이므로 0~1 값이 됨.)
- p값이 작으면, 귀무가설이 옳은 세계에서는 현실에서 얻은 데이터가 잘 나타나지 않는다 뜻.

- 일반적으로, p값 ≤ 0.05 이면, 귀무가설 기각, 대립가설 채택 (통계적으로 유의미한 차이가 있다.)
    - 이는 대립가설이 절대적으로 옳다는 뜻이 아니라, 대립가설을 지지하는 하나의 증거를 얻음
- p값 > 0.05 이면, 귀무가설을 기각할 수 없음. (통계적으로 유의미한 차이는 발견 못함.)
    - 이는 귀무가설이 옳다는 것이 아니라, 틀렸다고는 말할 수 없다는 뜻 = `어느 명제가 옳은가의 판단을 보류하는 의미`
- 유의수준 a(알파) : 귀무가설을 기각할 것인지 채택할 것인지 판단하는 경계

### 기각역과 p값
- 기각역 : 좌우 2.5%씩 영역을 유의수준 5%
- 양측검정 : 양수와 음수 양쪽 모두 고려하는 가설검정 방법(일반적인 방법)
- 단측검정 : 어느 한쪽만 고려해 넓이를 계산하는 방법
- “통계적으로 유의미” 표기

<br>

- `*` : p<0.05
- `**` : p<0.01
- `***` : p<0.001
- 유의미하지 않다 : N.S (non-significant)

### 제1종오류 & 제2종오류
- 제1종 오류 : 실제로는 아무런 차이가 없음에도 차이가 있다고 잘못 판단(유의수준a로 통제)
    - ex. 사실은 약의 효과가 없는데도 있다고 하는 것
- 제2종 오류 : 정말로 차이가 있는데도 차이가 있다고는 말할 수 없어, 귀무가설을 기각하지 않는다고 잘못 판단(베타. 알파와 달리 직접 통제 불가능)
    - ex. 실제로 약의 효과가 있는데, 효과가 있다고 말할 수 없다고 하는 것
- ‘알파’와 ‘베타’는 상충관계임.








# 6장. 다양한 가설검정

### 가설검정의 기본 해석흐름
1. 확인하고 싶은 대상에 따라 귀무가설과 대립가설 설정
2. 데이터로 가설검정에 필요한 검정통계량 계산
3. 귀무가설이 옳다는 가정하에 통계량의 분포를 생각하고, 데이터로 계산한 통계랴이 분포의 어느 위치에 있는지를 구하여 p값 계산

### 데이터 유형
양적 데이터 or 질적 데이터. 데이터 유형에 따라 해석 방법이 달라지므로, 데이터 유형파악 중요

### 표본의 수

### 양적 변수의 성질
- 양적 데이터일 경우, 이것이 어떤 분포를 취하는지가 검정 방법을 선택할 때 중요함.
- 모수검정(parametric test) : 모집단이 수학적으로 다룰 수 있는 특정 분포를 따른다는 가정
    - 정규성
- 비모수검정(nonparametric test) : 평균이나 표준편차 등의 파라미터(모수)에 기반을 두지 않은 가정
- 대푯값 비교

### 일표본 t검정
- t검정은 표본이 하나라도 실행가능!
- H0 = 모집단의 평균은 00이다.
- H1 = 모집단의 평균은 00이 아니다.
- 95% 신뢰구간을 구하는 것과 유의수준 알파=0.05로 귀무가설 검정하는 것은 x바에서 생각할지 귀무가설 뮤=00에서 생각할지의 차이뿐. 같은 것임.

### 이표본 t검정
- t검정은 모수검정이므로 데이터에 “정규성”이 있어야 함.
- 분산이 일치하지 않는 경우, 웰치의 t검정을 이용
- 월치의 t검정 : 일반적인 t검정을 개량한 것으로, 2개 집단의 분산이 다르더라도 사용가능함. (단, “정규성” 필요)

### 정규성 조사
- Q-Q플롯 : 시각적으로 판단가능
- 샤피로-윌크 검정 : 가설검정으로 조사
- 콜모고로프-스미르노프(K-S) 검정 : 이론적인 분포와 비교

### 등분산성 조사
- 바틀렛 검정
- 레빈 검정
- 비모수검정의 대푯값 비교 : 집단 데이터에 정규성이 없는 경우, 비모수검정 사용. 이때 평균값 대신 분포의 위치를 나타내는 대푯값에 주목하여 해석
- 윌콕슨 순위합 검정(Wil-coxon rank sum test) : 평균값 대신 각 데이터 값의 순의에 기반하여 검정을 실시
- 맨 휘트니 U 검정
- 플리그너-폴리셀로 검정(Fligner-Policello test)
- 브루너-문첼 검정(Brunner-Munzel test)


### 분산분석(ANOV, Analysis of variance)
- 3개 이상 집단의 평균값을 비교하는 방법
- H0 : 모든 집단의 평균이 같다(뮤1=뮤2=뮤3)
- H1 : 적어도 한 쌍에는 차이가 있다

- 원리
    - 검정통계량 F = (평균적인 집단 간 변동) / (평균적인 집단 내 변동)
    - F값 이상으로 극단적인 값이 나올 확률 p값. F값이 p값보다 오른쪽에 있다면 유의수준 알파=0.05에서 통계적으로 유의미한 집단 간 차이가 있다는 의미.

### 다중비교 검정
- 어느 쌍에 차이가 있는지 알고 싶을 때 사용하는 방법.
- 기본 아이디어 : 검정을 반복하는 만큼, 유의수준을 엄격한 값으로 변경하는 것.
- 본페로니 교정, 튜키 검정, 던넷 검정, 윌리엄스 검정
- 위 검정은 분산분석과 다른 원리이므로 분산분석 없이 단독으로 수행 가능

<br>

---
비율 비교 관련

### 범주형 데이터
- 동전의 앞뒤, 주사위의 눈, 좋아하는 음식 등 범주로 나타나는 데이터
- 동전 앞뒤앞앞뒤 → 앞면 3번, 뒷면 2번

### 이항검정 binomial test
- 하나의 범주가 확률P, 또 하나의 범주가 확률 1-P로 나타나는지 조사하기 위함
- 범주가 2개일 때만 사용 가능

### 카이제곱검정
- 범주가 2개보다 많을 경우 사용 가능

<br>

- 적합도 검정 : 얻은 출현도수(개수)가 이론적인 비율(이산확률분포)에 따라 얻어진 것인지를 조사하는 검정
- 독립성 검정 : 범주형 변수에서도 2개 변수의 관계(독립인지)를 조사해야할 때 사용




